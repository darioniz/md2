{"version":3,"file":"close-scroll-strategy.js","sourceRoot":"","sources":["../../../../../src/lib/core/overlay/scroll/close-scroll-strategy.ts"],"names":[],"mappings":"AAMA;;GAEG;AACH;IAIE,6BAAoB,iBAAmC;QAAnC,sBAAiB,GAAjB,iBAAiB,CAAkB;QAH/C,wBAAmB,GAAsB,IAAI,CAAC;IAGK,CAAC;IAE5D,oCAAM,GAAN,UAAO,UAAsB;QAC3B,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;IAChC,CAAC;IAED,oCAAM,GAAN;QAAA,iBAUC;QATC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,IAAI,EAAE;gBAC/D,EAAE,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;oBACnC,KAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;gBAC5B,CAAC;gBAED,KAAI,CAAC,OAAO,EAAE,CAAC;YACjB,CAAC,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAED,qCAAO,GAAP;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,mBAAmB,CAAC,WAAW,EAAE,CAAC;YACvC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAClC,CAAC;IACH,CAAC;IACH,0BAAC;AAAD,CAAC,AA5BD,IA4BC","sourcesContent":["import {ScrollStrategy} from './scroll-strategy';\r\nimport {OverlayRef} from '../overlay-ref';\r\nimport {Subscription} from 'rxjs/Subscription';\r\nimport {ScrollDispatcher} from './scroll-dispatcher';\r\n\r\n\r\n/**\r\n * Strategy that will close the overlay as soon as the user starts scrolling.\r\n */\r\nexport class CloseScrollStrategy implements ScrollStrategy {\r\n  private _scrollSubscription: Subscription|null = null;\r\n  private _overlayRef: OverlayRef;\r\n\r\n  constructor(private _scrollDispatcher: ScrollDispatcher) { }\r\n\r\n  attach(overlayRef: OverlayRef) {\r\n    this._overlayRef = overlayRef;\r\n  }\r\n\r\n  enable() {\r\n    if (!this._scrollSubscription) {\r\n      this._scrollSubscription = this._scrollDispatcher.scrolled(null, () => {\r\n        if (this._overlayRef.hasAttached()) {\r\n          this._overlayRef.detach();\r\n        }\r\n\r\n        this.disable();\r\n      });\r\n    }\r\n  }\r\n\r\n  disable() {\r\n    if (this._scrollSubscription) {\r\n      this._scrollSubscription.unsubscribe();\r\n      this._scrollSubscription = null;\r\n    }\r\n  }\r\n}\r\n"]}